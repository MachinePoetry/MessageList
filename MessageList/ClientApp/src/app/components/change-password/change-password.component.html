<form #changePasswordForm="ngForm" class="w-100" id="changePasswordForm" (ngSubmit)="onSubmit(changePasswordForm)" novalidate
      [ngClass]="mode === changePasswordMode.profile ? 'ml-sm-2 ml-md-5' : ''">
  <div *ngIf="mode === changePasswordMode.profile" class="w-100">
    <label for="oldPassword" class="mt-2"> Введите старый пароль: </label>
    <input #oldPassword="ngModel" class="form-control" [ngClass]="{'submit-error': changePasswordForm.submitted}" type="password"
           name="oldPassword" id="oldPassword" placeholder="Введите старый пароль" [(ngModel)]="changePasswordParams.oldPassword" required pattern="^.{1,20}$"
           minlength="4" maxlength="21">
    <div class="justify-content-center">
      <div *ngIf="oldPassword.invalid && (oldPassword.dirty || changePasswordForm.submitted)">
        <div *ngIf="oldPassword.errors?.required">
          <span class="alert-text small">Введите старый пароль</span>
        </div>
        <div *ngIf="oldPassword.errors?.minlength">
          <span class="alert-text small">Допустимая длина пароля не менее 4 символов</span>
        </div>
        <div *ngIf="oldPassword.errors?.pattern">
          <span class="alert-text small">Допустимая длина пароля не более 20 символов</span>
        </div>
      </div>
    </div>
  </div>
  <div class="w-100">
    <label for="newPassword" class="mt-2"> Введите новый пароль: </label>
    <input #newPassword="ngModel" class="form-control" [ngClass]="{'submit-error': changePasswordForm.submitted}" type="password" name="newPassword" id="newPassword"
           placeholder="Введите новый пароль" [(ngModel)]="changePasswordParams.newPassword" required pattern="^.{1,20}$" minlength="4" maxlength="21"
           validateEqual=”confirmNewPassword” errorToTargetControl=”true” />
    <div class="justify-content-center">
      <div *ngIf="newPassword.invalid && (newPassword.dirty || changePasswordForm.submitted)">
        <div *ngIf="newPassword.errors?.required">
          <span class="alert-text small">Введите новый пароль</span>
        </div>
        <div *ngIf="newPassword.errors?.minlength">
          <span class="alert-text small">Допустимая длина пароля не менее 4 символов</span>
        </div>
        <div *ngIf="newPassword.errors?.pattern">
          <span class="alert-text small">Допустимая длина пароля не более 20 символов</span>
        </div>
      </div>
    </div>
  </div>
  <div class="w-100">
    <label for="confirmNewPassword" class="mt-2"> Введите новый пароль еще раз: </label>
    <input #confirmNewPassword="ngModel" class="form-control" [ngClass]="{'submit-error': changePasswordForm.submitted}" type="password" name="confirmNewPassword"
           id="confirmNewPassword" placeholder="Введите новый пароль еще раз" [(ngModel)]="changePasswordParams.confirmNewPassword" required pattern="^.{1,20}$"
           minlength="4" maxlength="21" validateEqual=”newPassword” />
    <div class="justify-content-center">
      <div *ngIf="confirmNewPassword.invalid && (confirmNewPassword.dirty || changePasswordForm.submitted)">
        <div *ngIf="confirmNewPassword.errors?.required">
          <span class="alert-text small">Введите новый пароль еще раз</span>
        </div>
        <div *ngIf="confirmNewPassword.errors?.minlength">
          <span class="alert-text small">Допустимая длина пароля не менее 4 символов</span>
        </div>
        <div *ngIf="confirmNewPassword.errors?.validateNotEqual">
          <span class="alert-text small"> Пароли не совпадают </span>
        </div>
        <div *ngIf="confirmNewPassword.errors?.pattern">
          <span class="alert-text small">Допустимая длина пароля не более 20 символов</span>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex" [ngClass]="mode === 'profile' ? 'justify-content-start' : 'justify-content-end'">
    <button type="submit" class="btn dark-login-button mt-4" id="changePasswordFormButton" [disabled]="isPasswordChanging">
      <span class="dark-color-text"> Сохранить </span>
    </button>
  </div>
</form>
